================================================================================
GUÃA COMPLETA DE TESTING - POSTMAN COLLECTION SAAI
================================================================================

ğŸ“‹ PREPARACIÃ“N INICIAL
================================================================================

1. IMPORTAR COLECCIÃ“N
   - Abrir Postman
   - File â†’ Import â†’ Seleccionar: SAAI_Backend_Complete.postman_collection.json
   - Confirmar importaciÃ³n

2. VERIFICAR VARIABLES DE COLECCIÃ“N
   - Click en la colecciÃ³n "SAAI Backend - API Completa"
   - Tab "Variables"
   - Verificar que existan:

   VARIABLE                VALOR ACTUAL                           SE AUTORELLENA?
   --------------------------------------------------------------------------------
   base_url               https://vv9y0ctfg4...amazonaws.com/dev   âœ… YA CONFIGURADO
   token_worker           (vacÃ­o al inicio)                        âœ… AUTO (despuÃ©s de Login Worker)
   token_admin            (vacÃ­o al inicio)                        âœ… AUTO (despuÃ©s de Login Admin)
   token_saai             (vacÃ­o al inicio)                        âœ… AUTO (despuÃ©s de Login SAAI)
   tenant_id              (vacÃ­o al inicio)                        âœ… AUTO (despuÃ©s de Registrar Tienda)
   codigo_tienda          (vacÃ­o al inicio)                        âœ… AUTO (despuÃ©s de Registrar Tienda)
   codigo_producto        (vacÃ­o al inicio)                        âœ… AUTO (despuÃ©s de Crear Producto)

   IMPORTANTE: NO necesitas escribir nada manualmente, los tests automÃ¡ticos 
   guardan estos valores cuando ejecutas los requests correctos.


================================================================================
ğŸš€ ORDEN DE EJECUCIÃ“N (OBLIGATORIO - PASO A PASO)
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 1: SETUP INICIAL (ROL SAAI - PLATAFORMA)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 1: Login SAAI
   ğŸ“ Carpeta: 10. TIENDAS (SAAI)
   ğŸ“„ Request: Login SAAI
   
   QUÃ‰ HACE:
   - Autentica como super administrador de la plataforma
   - Guarda automÃ¡ticamente: token_saai
   
   BODY (ya configurado):
   {
     "email": "saai@saai.com",
     "password": "admin123"
   }
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene: token
   âœ… Variable token_saai se llenÃ³ (ver pestaÃ±a Variables)
   
   âŒ SI FALLA: 
   - Error 401: Credenciales incorrectas (verificar email/password en DynamoDB)
   - Error 500: Verificar logs de Lambda LoginUsuario


PASO 2: Registrar Tienda
   ğŸ“ Carpeta: 10. TIENDAS (SAAI)
   ğŸ“„ Request: Registrar Tienda
   
   QUÃ‰ HACE:
   - Crea una nueva tienda (tenant)
   - Crea el usuario ADMIN inicial de esa tienda
   - Guarda automÃ¡ticamente: tenant_id, codigo_tienda
   - Dispara SNS BienvenidaSAAI (crea carpeta S3, etc.)
   
   BODY (PERSONALIZAR):
   {
     "nombre_tienda": "Bodega Mi Negocio",
     "email_tienda": "contacto@minegocio.com",
     "telefono": "987654321",
     "admin": {
       "nombre": "Juan PÃ©rez",
       "email": "admin@minegocio.com",
       "password": "admin123"
     }
   }
   
   VERIFICAR:
   âœ… Status: 201 Created
   âœ… Response contiene: codigo_tienda (ej: T001), codigo_usuario_admin
   âœ… Variables tenant_id y codigo_tienda se llenaron
   
   ANOTAR:
   ğŸ“ Email admin: admin@minegocio.com
   ğŸ“ Password admin: admin123
   (Los usarÃ¡s en el siguiente paso)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 2: SETUP ROL ADMIN (ADMINISTRADOR DE TIENDA)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 3: Login Admin
   ğŸ“ Carpeta: 0. AUTH
   ğŸ“„ Request: Login Admin
   
   QUÃ‰ HACE:
   - Autentica al administrador de la tienda creada
   - Guarda automÃ¡ticamente: token_admin
   
   BODY (USAR LOS DATOS DEL ADMIN CREADO EN PASO 2):
   {
     "email": "admin@minegocio.com",
     "password": "admin123"
   }
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene: token, user.role = "admin"
   âœ… Variable token_admin se llenÃ³
   
   âŒ SI FALLA:
   - Error 401: Verificar que usaste el email/password del paso 2
   - Error 404: La tienda no se creÃ³ correctamente


PASO 4: Crear Usuario Worker
   ğŸ“ Carpeta: 2. USUARIOS
   ğŸ“„ Request: Crear Usuario
   
   QUÃ‰ HACE:
   - Crea un usuario tipo "worker" (empleado) para la tienda
   - Este usuario se usarÃ¡ para operaciones del dÃ­a a dÃ­a
   
   BODY (PERSONALIZAR):
   {
     "nombre": "MarÃ­a LÃ³pez",
     "email": "worker@minegocio.com",
     "password": "worker123",
     "role": "worker"
   }
   
   VERIFICAR:
   âœ… Status: 201 Created
   âœ… Response contiene: codigo_usuario (ej: T001U002)
   
   ANOTAR:
   ğŸ“ Email worker: worker@minegocio.com
   ğŸ“ Password worker: worker123


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 3: SETUP ROL WORKER (EMPLEADO DE TIENDA)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 5: Login Worker
   ğŸ“ Carpeta: 0. AUTH
   ğŸ“„ Request: Login Worker
   
   QUÃ‰ HACE:
   - Autentica al empleado (worker)
   - Guarda automÃ¡ticamente: token_worker
   
   BODY (USAR LOS DATOS DEL WORKER CREADO EN PASO 4):
   {
     "email": "worker@minegocio.com",
     "password": "worker123"
   }
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene: token, user.role = "worker"
   âœ… Variable token_worker se llenÃ³


PASO 6: Crear Producto
   ğŸ“ Carpeta: 3. PRODUCTOS
   ğŸ“„ Request: Crear Producto
   
   QUÃ‰ HACE:
   - Crea un producto en el inventario
   - Guarda automÃ¡ticamente: codigo_producto (SE USA EN ML)
   
   BODY (PERSONALIZAR):
   {
     "nombre": "Coca Cola 500ml",
     "categoria": "Bebidas",
     "precio_compra": 1.50,
     "precio_venta": 2.50,
     "stock": 100,
     "stock_minimo": 10
   }
   
   VERIFICAR:
   âœ… Status: 201 Created
   âœ… Response contiene: codigo_producto (ej: T001P001)
   âœ… Variable codigo_producto se llenÃ³ (IMPORTANTE PARA ML)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 4: OPERACIONES WORKER (VENTAS Y PRODUCTOS)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 7: Listar Productos
   ğŸ“ Carpeta: 3. PRODUCTOS
   ğŸ“„ Request: Listar Productos
   
   QUÃ‰ HACE:
   - Lista todos los productos activos
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene array de productos
   âœ… El producto creado aparece en la lista


PASO 8: Calcular Monto (PRE-VENTA)
   ğŸ“ Carpeta: 4. VENTAS
   ğŸ“„ Request: Calcular Monto
   
   QUÃ‰ HACE:
   - Calcula el total de una venta SIN registrarla
   - NO descuenta stock
   - Ãštil para mostrar preview al cliente
   
   BODY (USA {{codigo_producto}} automÃ¡tico):
   {
     "productos": [
       {
         "codigo_producto": "{{codigo_producto}}",
         "cantidad": 2
       }
     ]
   }
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene: items[], total


PASO 9: Registrar Venta
   ğŸ“ Carpeta: 4. VENTAS
   ğŸ“„ Request: Registrar Venta
   
   QUÃ‰ HACE:
   - Registra la venta en DynamoDB
   - Descuenta stock del producto
   - Publica alerta SNS si stock bajo
   - Emite evento WebSocket "venta_registrada"
   
   BODY:
   {
     "productos": [
       {
         "codigo_producto": "{{codigo_producto}}",
         "cantidad": 2
       }
     ],
     "metodo_pago": "efectivo"
   }
   
   VERIFICAR:
   âœ… Status: 201 Created
   âœ… Response contiene: codigo_venta, total, fecha
   âœ… Stock del producto se redujo


PASO 10: Listar Ventas
   ğŸ“ Carpeta: 4. VENTAS
   ğŸ“„ Request: Listar Ventas
   
   QUÃ‰ HACE:
   - Lista todas las ventas de la tienda
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… La venta registrada aparece en la lista


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 5: OPERACIONES ADMIN (GASTOS, USUARIOS, ANALÃTICA)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 11: Crear Gasto
   ğŸ“ Carpeta: 5. GASTOS
   ğŸ“„ Request: Crear Gasto
   
   QUÃ‰ HACE:
   - Registra un gasto de la tienda
   
   BODY:
   {
     "descripcion": "Compra de mercaderÃ­a",
     "monto": 500.00,
     "categoria": "proveedores",
     "fecha": "2026-01-17"
   }
   
   HEADER (CAMBIAR TOKEN):
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 201 Created
   âœ… Response contiene: codigo_gasto


PASO 12: Listar Usuarios
   ğŸ“ Carpeta: 2. USUARIOS
   ğŸ“„ Request: Listar Usuarios
   
   QUÃ‰ HACE:
   - Lista todos los usuarios de la tienda
   
   HEADER:
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Aparecen el admin y el worker creados


PASO 13: Actualizar AnalÃ­tica
   ğŸ“ Carpeta: 6. ANALÃTICA
   ğŸ“„ Request: Actualizar AnalÃ­tica
   
   QUÃ‰ HACE:
   - Calcula mÃ©tricas agregadas (ventas, gastos, inventario)
   - Detecta alertas (productos sin stock, ventas bajas, etc.)
   - Publica alertas SNS
   - Emite evento WebSocket "analitica_actualizada"
   
   BODY:
   {
     "fecha": "2026-01-17"
   }
   
   HEADER:
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response: {"success": true, "message": "AnalÃ­tica actualizada"}
   
   NOTA: Esta operaciÃ³n corre automÃ¡ticamente cada 4 horas


PASO 14: Ver AnalÃ­tica
   ğŸ“ Carpeta: 6. ANALÃTICA
   ğŸ“„ Request: Ver AnalÃ­tica
   
   QUÃ‰ HACE:
   - Consulta las mÃ©tricas calculadas en el paso anterior
   - NO recalcula (solo lectura)
   
   QUERY PARAMS:
   ?periodo=7  (Ãºltimos 7 dÃ­as)
   
   HEADER:
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene:
      - periodo {fecha_inicio, fecha_fin, dias}
      - ventas {total_ventas, total_ingresos, promedio_diario}
      - gastos {total_gastos, total_egresos, balance}
      - inventario {total_productos, productos_sin_stock, valor_total}
      - productos_top[]
      - ventas_diarias[]
      - alertas_detectadas[]


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 6: REPORTES (GENERACIÃ“N EXCEL)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 15: Generar Reporte Inventario
   ğŸ“ Carpeta: 7. REPORTES
   ğŸ“„ Request: Generar Reporte Inventario
   
   QUÃ‰ HACE:
   - Genera archivo Excel con todos los productos
   - Sube a S3
   - Guarda metadata en t_reportes
   
   HEADER:
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 201 Created
   âœ… Response contiene: codigo_reporte, download_url (presigned URL S3)


PASO 16: Listar Historial Reportes
   ğŸ“ Carpeta: 7. REPORTES
   ğŸ“„ Request: Listar Historial Reportes
   
   QUÃ‰ HACE:
   - Lista todos los reportes generados
   - Genera presigned URLs frescos para descarga
   
   HEADER:
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene array con reportes
   âœ… Cada reporte tiene download_url vÃ¡lido (expira en 1 hora)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FASE 7: MACHINE LEARNING - PREDICCIÃ“N DEMANDA (NUEVO)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASO 17: Predecir Demanda
   ğŸ“ Carpeta: 8. PREDICCIONES ML
   ğŸ“„ Request: Predecir Demanda
   
   QUÃ‰ HACE:
   - Predice demanda del producto usando Holt-Winters
   - Usa modelo pre-entrenado desde S3
   - Cache en t_predicciones (TTL 24h)
   - Compara stock vs demanda â†’ alerta SNS si crÃ­tico
   - Emite evento WebSocket "prediccion_generada"
   
   BODY (USA {{codigo_producto}} automÃ¡tico):
   {
     "codigo_producto": "{{codigo_producto}}"
   }
   
   HEADER:
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response:
      {
        "success": true,
        "data": {
          "codigo_producto": "T001P001",
          "demanda_manana": 5,
          "demanda_proxima_semana": 35
        }
      }
   
   âŒ SI FALLA:
   - Error 404: Modelo no existe â†’ EntrenarModelos no ha corrido
   - Error 400: Producto sin ventas histÃ³ricas (mÃ­nimo 30 registros)
   
   NOTA IMPORTANTE:
   - Si es la primera ejecuciÃ³n, el modelo puede no existir
   - EntrenarModelos corre cada 3 dÃ­as automÃ¡ticamente
   - Para testing inmediato: invocar EntrenarModelos manualmente desde AWS Lambda


PASO 18: Listar Notificaciones
   ğŸ“ Carpeta: 9. NOTIFICACIONES
   ğŸ“„ Request: Listar Notificaciones
   
   QUÃ‰ HACE:
   - Lista todas las notificaciones de la tienda
   - Incluye alertas de stock, analÃ­tica, predicciÃ³n ML
   
   HEADER:
   Authorization: Bearer {{token_admin}}
   
   VERIFICAR:
   âœ… Status: 200 OK
   âœ… Response contiene notificaciones generadas por:
      - Ventas (stock bajo)
      - AnalÃ­tica (ventas 0, productos top sin stock)
      - PredicciÃ³n ML (stock < demanda maÃ±ana)


================================================================================
ğŸ“Š RESUMEN DE VARIABLES AUTO-RELLENADAS
================================================================================

DESPUÃ‰S DE EJECUTAR LOS PASOS ANTERIORES, DEBERÃAS TENER:

âœ… token_saai             = "eyJhbGciOiJIUzI1NiIsInR5cCI6Ik..." (Login SAAI)
âœ… codigo_tienda          = "T001" (Registrar Tienda)
âœ… tenant_id              = "T001" (Registrar Tienda)
âœ… token_admin            = "eyJhbGciOiJIUzI1NiIsInR5cCI6Ik..." (Login Admin)
âœ… token_worker           = "eyJhbGciOiJIUzI1NiIsInR5cCI6Ik..." (Login Worker)
âœ… codigo_producto        = "T001P001" (Crear Producto)

Todas estas se guardan automÃ¡ticamente por los "Tests" de cada request.


================================================================================
ğŸ” CÃ“MO VERIFICAR SI LAS VARIABLES SE LLENARON
================================================================================

1. Click en la colecciÃ³n "SAAI Backend - API Completa"
2. Tab "Variables"
3. Revisar columna "Current value"
4. Si alguna estÃ¡ vacÃ­a, volver a ejecutar el request correspondiente


================================================================================
âš ï¸ ERRORES COMUNES Y SOLUCIONES
================================================================================

ERROR: 401 Unauthorized
   CAUSA: Token expirado o invÃ¡lido
   SOLUCIÃ“N: Volver a hacer login (token_admin, token_worker o token_saai)

ERROR: 403 Forbidden
   CAUSA: Usaste token incorrecto para el endpoint
   EJEMPLO: Intentaste crear usuario con token_worker (solo admin puede)
   SOLUCIÃ“N: Verificar el rol en la documentaciÃ³n del endpoint

ERROR: 404 Not Found - Producto/Venta/etc
   CAUSA: Usaste un cÃ³digo que no existe
   SOLUCIÃ“N: Verificar que la variable {{codigo_producto}} se llenÃ³ correctamente

ERROR: 400 Bad Request
   CAUSA: Body incorrecto (campo faltante, tipo incorrecto)
   SOLUCIÃ“N: Revisar el body del request vs los ejemplos de esta guÃ­a

ERROR: 500 Internal Server Error
   CAUSA: Error en la Lambda
   SOLUCIÃ“N: 
   1. Ir a AWS Console â†’ CloudWatch Logs
   2. Buscar el log group: /aws/lambda/saai-backend-dev-NombreFuncion
   3. Ver el error detallado


================================================================================
ğŸ¯ TESTING COMPLETO - CHECKLIST FINAL
================================================================================

ROL SAAI (PLATAFORMA):
â˜ Login SAAI
â˜ Registrar Tienda
â˜ Listar Tiendas
â˜ Buscar Tienda

ROL ADMIN (ADMINISTRADOR):
â˜ Login Admin
â˜ Crear Usuario Worker
â˜ Listar Usuarios
â˜ Crear Gasto
â˜ Listar Gastos
â˜ Actualizar AnalÃ­tica
â˜ Ver AnalÃ­tica
â˜ Generar Reporte Inventario
â˜ Generar Reporte Ventas
â˜ Generar Reporte Gastos
â˜ Generar Reporte General
â˜ Listar Historial Reportes
â˜ Predecir Demanda (ML)
â˜ Listar Notificaciones

ROL WORKER (EMPLEADO):
â˜ Login Worker
â˜ Crear Producto
â˜ Listar Productos
â˜ Buscar Productos
â˜ Actualizar Producto
â˜ Calcular Monto
â˜ Registrar Venta
â˜ Listar Ventas
â˜ Buscar Venta


================================================================================
ğŸ’¡ TIPS AVANZADOS
================================================================================

1. COLLECTION RUNNER (EJECUTAR TODO AUTOMÃTICAMENTE)
   - Click derecho en la colecciÃ³n
   - "Run collection"
   - Seleccionar los requests en orden
   - Click "Run SAAI Backend"
   - Postman ejecutarÃ¡ todo automÃ¡ticamente

2. ENVIRONMENTS (MÃšLTIPLES TIENDAS)
   - Puedes crear environments separados para cada tienda
   - Duplicar variables: token_admin, codigo_tienda, etc.
   - Cambiar entre tiendas sin re-ejecutar setup

3. PRE-REQUEST SCRIPTS (VERIFICAR TOKENS)
   - Si un token expirÃ³, el script puede auto-refrescar
   - Ya incluidos en algunos requests crÃ­ticos

4. VISUALIZACIÃ“N DE RESPUESTAS
   - Tab "Visualize" muestra grÃ¡ficos para analÃ­tica
   - Tab "Test Results" muestra si las variables se guardaron


================================================================================
ğŸ“ SOPORTE
================================================================================

Si tienes errores persistentes:

1. Verificar logs en CloudWatch (AWS Console)
2. Revisar DynamoDB para ver datos guardados
3. Verificar que todas las Lambdas se desplegaron correctamente:
   $ aws lambda list-functions --region us-east-1 | grep saai-backend-dev

4. Re-deploy si es necesario:
   $ sls deploy


================================================================================
FIN DE LA GUÃA
================================================================================
