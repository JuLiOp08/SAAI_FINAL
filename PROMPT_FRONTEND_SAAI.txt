# PROMPT PARA IA - FRONTEND SAAI PLATAFORMA (React Web)

## üéØ CONTEXTO DEL PROYECTO

Estoy desarrollando una aplicaci√≥n web React para **SUPER ADMINISTRADORES** de la plataforma SAAI (Smart Assistant for Inventory). Esta app gestiona TODAS las tiendas del sistema.

**Rol del usuario:** SAAI (Super Admin)
- Permisos: Gesti√≥n global de tiendas, registro de nuevas tiendas, consulta de m√©tricas globales simples (conteo de tiendas, estados)
- NO gestiona productos, ventas, usuarios de tiendas individuales (eso es rol ADMIN)
- Enfoque: Administraci√≥n de la plataforma, onboarding de clientes, monitoreo global

**Backend:** AWS Serverless (API Gateway + Lambda + DynamoDB)
- Autenticaci√≥n: JWT (Bearer token) con rol 'saai'
- Multi-tenant: SAAI puede ver/gestionar TODAS las tiendas (NO tiene tenant_id espec√≠fico, es global)
- SNS: Publica eventos BienvenidaSAAI al registrar tienda ‚Üí crea recursos autom√°ticamente
- S3: Crea carpetas autom√°ticamente para cada tienda (s3://saai-tiendas/{codigo_tienda}/)

**Frontend:** React + Vite + CSS
- CSS puro para estilos (CSS Modules o archivos .css tradicionales)
- React Router para navegaci√≥n
- Axios para llamadas API
- Context API para estado global
- WebSocket (OPCIONAL): Solo para eventos informativos globales (no es cr√≠tico para operaci√≥n b√°sica)

---

## üìö ARCHIVOS DE REFERENCIA OBLIGATORIOS

**IMPORTANTE:** Antes de escribir cualquier c√≥digo, debes leer y entender completamente estos documentos:

### 1. SAAI_oficial.txt
- **Secci√≥n cr√≠tica:** "1.4 Estado y eliminaci√≥n l√≥gica (soft delete)" - L√≠neas 21-44
  - Estados de tienda: ACTIVA, SUSPENDIDA, ELIMINADA
  - Diferencia entre estados de tienda vs entidades internas
- **Convenciones generales:** L√≠neas 1-80
- **Buscar m√≥dulo TIENDAS en Postman:** Endpoints de gesti√≥n de tiendas

### 2. SAAI_resumen_tecnico.txt
- Arquitectura general del sistema
- Multi-tenant y tenant_id
- SNS BienvenidaSAAI y CrearRecursosTienda

### 3. SAAI_Backend_Complete.postman_collection.json
- **M√≥dulo relevante para SAAI:**
  - 0. SETUP ‚Üí Crear Usuario SAAI (ejecutar 1 vez)
  - 1. AUTH ‚Üí Login SAAI
  - 10. TIENDAS (SAAI) ‚Üí CRUD completo de tiendas
    - Registrar Tienda
    - Listar Tiendas
    - Buscar Tienda
    - Actualizar Tienda (cambiar estado)
    - Eliminar Tienda

---

## üèóÔ∏è ESTRUCTURA DE LA APP

```
saai-plataforma/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LoginPage.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DashboardSAAIPage.jsx      # Vista global de tiendas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tiendas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TiendasPage.jsx             # Lista todas las tiendas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegistrarTiendaPage.jsx     # Onboarding cliente
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DetalleTiendaPage.jsx       # Info + cambiar estado
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BuscarTiendasPage.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ configuracion/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ConfiguracionPage.jsx       # Settings plataforma
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Navbar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Layout.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Table.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Badge.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Spinner.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tiendas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TiendaCard.jsx              # Card con estado badge
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TiendaForm.jsx              # Formulario registro
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EstadoBadge.jsx             # ACTIVA/SUSPENDIDA/ELIMINADA
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TiendaTable.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StatsCard.jsx               # Cards estad√≠sticas globales
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ TiendaRecenteCard.jsx
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.service.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tiendas.service.js          # CRUD tiendas
‚îÇ   ‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TiendasContext.jsx          # Estado global tiendas
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ usePagination.js
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helpers.js
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppRoutes.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProtectedRoute.jsx
‚îÇ   ‚îî‚îÄ‚îÄ App.jsx
‚îú‚îÄ‚îÄ styles/                   # Estilos CSS
‚îÇ   ‚îú‚îÄ‚îÄ global.css            # Estilos globales
‚îÇ   ‚îú‚îÄ‚îÄ variables.css         # Variables CSS (colores, espaciados)
‚îÇ   ‚îî‚îÄ‚îÄ components/           # Estilos por componente
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ vite.config.js
```

---

## üöÄ ORDEN DE IMPLEMENTACI√ìN SUGERIDO

### FASE 1: Autenticaci√≥n (COMENZAR AQU√ç)
1. **LoginPage**
   - POST /login con email: saai@saai.com, password: admin123
   - Guardar token en localStorage (NO AsyncStorage, esto es web)
   - Verificar rol === 'saai' en el response
   - **IMPORTANTE:** SAAI NO tiene tenant_id (es super admin global)
   - Navegaci√≥n a DashboardSAAIPage

2. **AuthContext**
   - Estado: { user, token, isSAAI: true, isAuthenticated }
   - **NO incluir tenant_id** (SAAI es global, no pertenece a una tienda)
   - login(), logout(), checkAuth()
   - Persistencia de sesi√≥n en localStorage

3. **API Service**
   - Axios con baseURL
   - Interceptor request: Authorization: Bearer {token}
   - Interceptor response: manejo 401 ‚Üí logout + redirect /login
     - **PREFERIR:** React Router navigate('/login') si est√° disponible
     - **FALLBACK:** window.location.href = '/login' solo si no hay router

‚ö†Ô∏è **WebSocket (Opcional):**
- El frontend SAAI PUEDE conectarse a WebSocket para eventos informativos globales
- Eventos posibles: `modelos_actualizados` (cuando se entrenan modelos ML globales)
- NO es cr√≠tico para operaci√≥n b√°sica de gesti√≥n de tiendas
- Si implementas WebSocket, conectar en App.jsx (nivel ra√≠z) al hacer login
- Refetch GET /tiendas si aplica al recibir eventos

### FASE 2: Dashboard Global (Vista Principal)
4. **DashboardSAAIPage**
   - GET /tiendas (sin filtros, todas las tiendas)
   - Cards con estad√≠sticas:
     - Total tiendas
     - Tiendas activas
     - Tiendas suspendidas
     - Tiendas eliminadas
   - Bot√≥n flotante "Registrar Nueva Tienda"
   - Lista resumida de tiendas recientes (√∫ltimas 5)

### FASE 3: Gesti√≥n de Tiendas (Core Feature)
5. **RegistrarTiendaPage** (CR√çTICO - Onboarding de clientes)
   - Formulario en 2 secciones:
     - **Datos de Tienda:**
       - nombre_tienda (requerido)
       - email_tienda (requerido, √∫nico)
       - telefono (opcional)
     - **Administrador Inicial:**
       - nombre (requerido)
       - email (requerido, √∫nico)
       - password (requerido, min 6 caracteres)
   - POST /tiendas (body NO incluye codigo_tienda, el backend lo genera)
   - **IMPORTANTE - Backend hace TODO autom√°ticamente:**
     1. Genera codigo_tienda (T001, T002, T003...)
     2. Crea usuario admin inicial con rol 'admin'
     3. Publica SNS BienvenidaSAAI
     4. Lambda CrearRecursosTienda crea:
        - Carpeta S3: s3://saai-tiendas/{codigo_tienda}/
        - Suscripci√≥n SNS AlertasSAAI con filtro tenant_id
     5. Lambda EnviarCorreoBienvenida env√≠a email con credenciales
   - Mostrar c√≥digo de tienda generado en modal de √©xito
   - Bot√≥n "Copiar C√≥digo" (clipboard)

6. **ListaTiendasPage**
   - GET /tiendas con paginaci√≥n
   - Filtros por estado (tabs): Todas, Activas, Suspendidas, Eliminadas
   - Lista con TiendaCard
   - Bot√≥n "Cargar m√°s" o infinite scroll
   - Navegaci√≥n a DetalleTiendaPage

7. **TiendaCard Component**
   - Mostrar:
     - codigo_tienda (T001, T002...)
     - nombre_tienda
     - email_tienda
     - estado (badge con color)
     - fecha_creacion
   - Tocar ‚Üí navegar a DetalleTiendaPage

8. **DetalleTiendaPage**
   - Mostrar info completa de la tienda
   - **Cambiar Estado:**
     - ACTIVA ‚Üí SUSPENDIDA (bot√≥n "Suspender")
     - SUSPENDIDA ‚Üí ACTIVA (bot√≥n "Reactivar")
     - ACTIVA/SUSPENDIDA ‚Üí ELIMINADA (bot√≥n "Eliminar" con confirmaci√≥n)
   - **IMPORTANTE:** Estados son irreversibles en algunos casos:
     - ELIMINADA no puede volver a ACTIVA/SUSPENDIDA
     - Soft delete: datos se conservan pero tienda no puede operar
   - PUT /tiendas/{codigo_tienda}
   - Mostrar admin inicial (nombre, email)
   - Mostrar fecha de creaci√≥n
   - Bot√≥n "Editar" ‚Üí solo nombre, tel√©fono, email_tienda

9. **BuscarTiendasPage**
   - POST /tiendas/buscar
   - SearchBar con query
   - B√∫squeda por: nombre_tienda, codigo_tienda, email_tienda
   - Resultados en tabla/grid

### FASE 4: Configuraci√≥n
10. **ConfiguracionPage**
    - Informaci√≥n del usuario SAAI
    - Logout
    - Versi√≥n de la app
    - Links: Soporte, Documentaci√≥n

---

## üí° TIPS ESPEC√çFICOS SAAI

### 1. Registro de Tienda - Proceso Completo (Seg√∫n SAAI_oficial.txt secci√≥n 1.4)
```javascript
// ‚úÖ CORRECTO: Backend hace TODO autom√°ticamente
const registrarTienda = async (data) => {
  const payload = {
    nombre_tienda: data.nombreTienda,
    email_tienda: data.emailTienda,
    telefono: data.telefono,
    admin: {
      nombre: data.adminNombre,
      email: data.adminEmail,
      password: data.adminPassword
    }
    // ‚ùå NO env√≠as codigo_tienda, el backend lo genera
  };
  
  const response = await api.post('/tiendas', payload);
  const { codigo_tienda, nombre_tienda } = response.data.data;
  
  // Copiar c√≥digo al clipboard (Web API)
  await navigator.clipboard.writeText(codigo_tienda);
  
  // Mostrar modal de √©xito
  setShowSuccessModal({
    codigo: codigo_tienda,
    nombre: nombre_tienda,
    message: 'Se ha enviado un email de bienvenida al administrador.'
  });
};

// ‚ö†Ô∏è REGLA CR√çTICA: NO INVENTAR ENDPOINTS
// Si necesitas un endpoint que no est√° en SAAI_oficial.txt o Postman:
// 1. Verificar que realmente no existe
// 2. Preguntar al usuario o marcarlo como TODO
// 3. NO crear rutas nuevas sin confirmaci√≥n
// Ejemplo: ‚ùå NO HACER: await api.post('/tiendas/validar') // Este endpoint NO existe

// ‚ö†Ô∏è Lo que hace el backend autom√°ticamente:
// 1. Genera codigo_tienda usando t_counters (T001, T002, T003...)
// 2. Crea usuario admin con rol 'admin' en t_usuarios
// 3. Guarda tienda con estado 'ACTIVA' en t_tiendas
// 4. Publica SNS BienvenidaSAAI con payload:
//    { codigo_tienda, nombre_tienda, email_tienda, admin_email }
// 5. Lambda CrearRecursosTienda (subscriptor SNS):
//    - Crea carpeta S3: s3://saai-tiendas/{codigo_tienda}/
//    - Crea carpeta S3: s3://saai-tiendas/{codigo_tienda}/reportes/
//    - Crea suscripci√≥n SNS Email a AlertasSAAI con FilterPolicy:
//      { "tenant_id": [codigo_tienda] }
// 6. Lambda EnviarCorreoBienvenida (subscriptor SNS):
//    - Env√≠a email al admin_email con credenciales de acceso
```

### 2. Estados de Tienda - Transiciones Permitidas
```javascript
const TRANSICIONES_ESTADO = {
  ACTIVA: ['SUSPENDIDA', 'ELIMINADA'],
  SUSPENDIDA: ['ACTIVA', 'ELIMINADA'],
  ELIMINADA: [] // No se puede reactivar
};

const cambiarEstado = async (codigo_tienda, estadoActual, nuevoEstado) => {
  // Validar transici√≥n
  if (!TRANSICIONES_ESTADO[estadoActual].includes(nuevoEstado)) {
    toast.error('Transici√≥n de estado no permitida');
    return;
  }
  
  // Confirmaci√≥n para ELIMINADA (usar react-modal o confirmaci√≥n personalizada)
  if (nuevoEstado === 'ELIMINADA') {
    const confirmado = window.confirm(
      '‚ö†Ô∏è Eliminar Tienda\n\nEsta acci√≥n no se puede deshacer. La tienda no podr√° operar pero sus datos se conservar√°n.'
    );
    
    if (confirmado) {
      actualizarEstado(codigo_tienda, nuevoEstado);
    }
  } else {
    actualizarEstado(codigo_tienda, nuevoEstado);
  }
};

const actualizarEstado = async (codigo_tienda, estado) => {
  await api.put(`/tiendas/${codigo_tienda}`, { estado });
  fetchTiendas(); // Refetch lista
};
```

### 3. Listar Tiendas - Filtros por Estado
```javascript
const [filtroEstado, setFiltroEstado] = useState('TODAS');

const fetchTiendas = async () => {
  const response = await api.get('/tiendas', {
    params: {
      limit: 20,
      ...(nextToken && { next_token: nextToken })
    }
  });
  
  let tiendas = response.data.data.tiendas;
  
  // Filtrar localmente por estado (o agregar query param en backend)
  if (filtroEstado !== 'TODAS') {
    tiendas = tiendas.filter(t => t.estado === filtroEstado);
  }
  
  setTiendas(tiendas);
  setNextToken(response.data.data.next_token);
};

// Tabs para filtros
<div className="tabs-container">
  <button 
    className={filtroEstado === 'TODAS' ? 'tab tab-active' : 'tab'} 
    onClick={() => setFiltroEstado('TODAS')}
  >
    Todas
  </button>
  <button 
    className={filtroEstado === 'ACTIVA' ? 'tab tab-active' : 'tab'} 
    onClick={() => setFiltroEstado('ACTIVA')}
  >
    Activas
  </button>
  <button 
    className={filtroEstado === 'SUSPENDIDA' ? 'tab tab-active' : 'tab'} 
    onClick={() => setFiltroEstado('SUSPENDIDA')}
  >
    Suspendidas
  </button>
  <button 
    className={filtroEstado === 'ELIMINADA' ? 'tab tab-active' : 'tab'} 
    onClick={() => setFiltroEstado('ELIMINADA')}
  >
    Eliminadas
  </button>
</div>
```

### 4. Dashboard - Estad√≠sticas Globales
```javascript
const calcularEstadisticas = (tiendas) => {
  return {
    total: tiendas.length,
    activas: tiendas.filter(t => t.estado === 'ACTIVA').length,
    suspendidas: tiendas.filter(t => t.estado === 'SUSPENDIDA').length,
    eliminadas: tiendas.filter(t => t.estado === 'ELIMINADA').length
  };
};

// Dashboard
const DashboardSAAIPage = () => {
  const [stats, setStats] = useState({ total: 0, activas: 0, suspendidas: 0, eliminadas: 0 });
  
  useEffect(() => {
    fetchTiendas().then(tiendas => {
      setStats(calcularEstadisticas(tiendas));
    });
  }, []);
  
  return (
    <div className="dashboard-container">
      <StatsCard title="Total Tiendas" value={stats.total} icon="store" color="#1E88E5" />
      <StatsCard title="Activas" value={stats.activas} icon="check-circle" color="#43A047" />
      <StatsCard title="Suspendidas" value={stats.suspendidas} icon="pause-circle" color="#FB8C00" />
      <StatsCard title="Eliminadas" value={stats.eliminadas} icon="cancel" color="#E53935" />
    </div>
  );
};
```

### 5. Badges de Estado
```javascript
const EstadoBadge = ({ estado }) => {
  const configs = {
    ACTIVA: { color: '#43A047', icon: 'check-circle', text: 'Activa' },
    SUSPENDIDA: { color: '#FB8C00', icon: 'pause-circle', text: 'Suspendida' },
    ELIMINADA: { color: '#E53935', icon: 'cancel', text: 'Eliminada' }
  };
  
  const config = configs[estado] || configs.ACTIVA;
  
  return (
    <span className="estado-badge" style={{ backgroundColor: config.color }}>
      <i className={`icon-${config.icon}`}></i>
      <span className="badge-text">{config.text}</span>
    </span>
  );
};
```

### 6. Validaciones - Email √önico
```javascript
// Backend valida email √∫nico autom√°ticamente, mostrar error
const registrarTienda = async (data) => {
  try {
    await api.post('/tiendas', data);
    navigation.navigate('ListaTiendas');
  } catch (error) {
    if (error.response?.status === 400) {
      const mensaje = error.response.data.message;
      
      if (mensaje.includes('email ya existe')) {
        toast.error('El email de la tienda ya est√° registrado');
      } else if (mensaje.includes('admin email ya existe')) {
        toast.error('El email del administrador ya est√° en uso');
      } else {
        toast.error(mensaje);
      }
    }
  }
};
```

---

## üìä FEATURES ESPEC√çFICAS SAAI

### Gesti√≥n de Tiendas
- ‚úÖ Registrar nueva tienda + admin inicial
- ‚úÖ Listar todas las tiendas (multi-tenant)
- ‚úÖ Buscar tiendas por nombre, c√≥digo, email
- ‚úÖ Cambiar estado: ACTIVA ‚Üî SUSPENDIDA ‚Üí ELIMINADA
- ‚úÖ Editar datos b√°sicos (nombre, email, tel√©fono)
- ‚úÖ Soft delete con auditor√≠a (motivo_baja, fecha_baja)

### Dashboard Global
- ‚úÖ Estad√≠sticas: Total, Activas, Suspendidas, Eliminadas
- ‚úÖ Tiendas recientes (√∫ltimas 5)
- ‚úÖ Acceso r√°pido a registrar nueva tienda

### Onboarding Automatizado
- ‚úÖ Registro de tienda en 1 paso (datos tienda + admin)
- ‚úÖ Backend crea recursos autom√°ticamente:
  - Carpeta S3
  - Suscripci√≥n SNS
  - Usuario admin inicial
  - Email de bienvenida

### Restricciones
- ‚ùå No gestiona productos de tiendas individuales
- ‚ùå No gestiona ventas de tiendas individuales
- ‚ùå No gestiona usuarios internos de tiendas (eso es rol ADMIN)
- ‚ùå No genera reportes de tiendas individuales
- ‚ùå No ve anal√≠tica detallada de tiendas (solo overview global)

---

## ‚ö†Ô∏è ERRORES COMUNES A EVITAR

1. **NO confundas estados de tienda (ACTIVA/SUSPENDIDA/ELIMINADA) con estados de entidades internas (ACTIVO/INACTIVO)**
   - Estados de tienda: ACTIVA, SUSPENDIDA, ELIMINADA (solo para t_tiendas)
   - Estados de entidades: ACTIVO, INACTIVO (productos, usuarios, gastos)
   
2. **NO permitas reactivar tiendas ELIMINADAS** (transici√≥n no permitida)
   - ACTIVA ‚Üî SUSPENDIDA ‚úÖ
   - ACTIVA ‚Üí ELIMINADA ‚úÖ
   - SUSPENDIDA ‚Üí ELIMINADA ‚úÖ
   - ELIMINADA ‚Üí cualquier estado ‚ùå
   
3. **NO gestiones productos/ventas desde app SAAI** (eso es rol ADMIN)
   - SAAI solo gestiona TIENDAS (tenants)
   - NO tiene acceso a datos operativos de tiendas individuales
   
4. **NO env√≠es codigo_tienda** al registrar (backend lo genera autom√°ticamente)
   - Backend usa t_counters para generar T001, T002, T003...
   
5. **NO permitas emails duplicados** (tienda y admin deben ser √∫nicos)
   - Backend valida unicidad autom√°ticamente
   
6. **NO llames a endpoints de otras apps** (/productos, /ventas, /analitica son de ADMIN/TRABAJADOR)
   - Endpoints SAAI: /login, /tiendas (CRUD)
   - NO inventar endpoints nuevos sin confirmar con usuario
   
7. **NO uses tenant_id** directamente (rol SAAI ve todas las tiendas, no tiene tenant_id espec√≠fico)
   - SAAI no pertenece a ninguna tienda espec√≠fica
   - El rol 'saai' tiene permisos globales
   
8. **NO caches datos de tiendas en localStorage** (siempre refetch para datos actualizados)
   - Solo cachear token y user info
   
9. **NO llames a GET /analitica** (ese endpoint requiere tenant_id que SAAI no tiene)
   - SAAI solo tiene m√©tricas globales derivadas de GET /tiendas (conteo de estados)

---

## üé® UI/UX RECOMENDACIONES CON CSS

1. **Layout:** Navbar + Sidebar + Contenido principal
2. **Dashboard:** Stats Cards responsive con CSS Grid
3. **TiendaCard:** Grid de cards con hover effects
4. **Badges de Estado:** ACTIVA (verde), SUSPENDIDA (amarillo), ELIMINADA (rojo)
5. **Modal Success:** C√≥digo de tienda grande, bot√≥n copiar (clipboard API)
6. **Tabs:** Filtros por estado (Todas/Activas/Suspendidas/Eliminadas)
7. **Formulario:** 2 secciones claras (Tienda + Admin)
8. **Colors:** Variables CSS personalizadas (--color-activo, --color-suspendida, etc.)

**Ejemplo de variables CSS:**
```css
/* styles/variables.css */
:root {
  /* Estados de tienda */
  --color-activa-bg: #D1FAE5;
  --color-activa-text: #065F46;
  --color-suspendida-bg: #FEF3C7;
  --color-suspendida-text: #92400E;
  --color-eliminada-bg: #FEE2E2;
  --color-eliminada-text: #991B1B;
  
  /* Colores primarios */
  --primary: #2563EB;
  --secondary: #6B7280;
  --success: #059669;
  --warning: #F59E0B;
  --danger: #DC2626;
  
  /* Espaciados */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
}

.estado-badge {
  display: inline-block;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.estado-activa {
  background: var(--color-activa-bg);
  color: var(--color-activa-text);
}

.estado-suspendida {
  background: var(--color-suspendida-bg);
  color: var(--color-suspendida-text);
}

.estado-eliminada {
  background: var(--color-eliminada-bg);
  color: var(--color-eliminada-text);
}
```

---

## ‚úÖ CHECKLIST DE IMPLEMENTACI√ìN

- [ ] LoginPage + AuthContext
- [ ] API Service con interceptors
- [ ] DashboardSAAIPage con estad√≠sticas
- [ ] RegistrarTiendaPage (2 secciones: tienda + admin)
- [ ] ListaTiendasPage con filtros por estado
- [ ] TiendaCard component con badge
- [ ] DetalleTiendaPage con cambio de estado
- [ ] EstadoBadge component
- [ ] BuscarTiendasPage
- [ ] ConfiguracionPage
- [ ] Validaciones de formularios
- [ ] Error handling (react-hot-toast)
- [ ] Loading states (spinners CSS)
- [ ] Infinite scroll o bot√≥n Cargar m√°s
- [ ] Confirmaciones para acciones cr√≠ticas (react-modal o window.confirm)
- [ ] Testing en navegador (Chrome DevTools, responsive mode)

---

## üö¶ COMENZAR AHORA

**Primer paso:** Lee SAAI_oficial.txt secci√≥n "1.4 Estado y eliminaci√≥n l√≥gica" (entender diferencia entre estados de tienda vs entidades).

**Segundo paso:** Revisa Postman collection m√≥dulo "10. TIENDAS (SAAI)".

**Tercer paso:** Implementa LoginScreen + AuthContext (FASE 1).

**Cuarto paso:** Implementa DashboardSAAIScreen con estad√≠sticas globales (FASE 2).

**Quinto paso:** Implementa RegistrarTiendaScreen (CR√çTICO - onboarding de clientes, FASE 3.5).

**Pregunta clave:** ¬øEntendiste que SAAI NO gestiona productos/ventas de tiendas individuales, solo administra tiendas a nivel global?

---

¬°Empecemos! Esta es la app m√°s simple de las 3, pero cr√≠tica para el onboarding de nuevos clientes. Dime cuando hayas le√≠do los archivos de referencia y est√©s listo para implementar el DashboardSAAIScreen.
